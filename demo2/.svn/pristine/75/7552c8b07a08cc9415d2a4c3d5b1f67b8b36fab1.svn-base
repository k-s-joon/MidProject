<%@page import="report.vo.ReportVO"%>
<%@page import="java.util.List"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%
	List<ReportVO> reportList = (List<ReportVO>) request.getAttribute("reportList");
%>
<!DOCTYPE html>
<html>
<head>
<script  src="http://code.jquery.com/jquery-latest.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
<meta charset="UTF-8">
</head>
<body>
<script>
function modelOpen(reportNo) {
    
    $.ajax({
         url : "/demo2/reportsearch",
         type : 'post',
         data : {
            "reportNo" : reportNo
         },
         success : function(data) {    
            $('.profile').html(data);
           },
         error : function() {
            alert("error");
         }
      });
}
</script>

<div class="profile"></div>
	<table>
	<tr>
		<td>신고한사람</td>
		<td>신고당한사람</td>
		<td>신고사유</td>
		<td>신고일</td>
	</tr>
	
	<%
		int reportSize = reportList.size();
		if(reportSize > 0) {
			for(int i = 0; i < reportSize; i ++){
				%>
		<tr><td><input type="hidden" name="reportNo" value="<%=reportList.get(i).getReportNo()%>"></td></tr>				
		<tr>
		<td><%=reportList.get(i).getGoodMemId()%></td>
		<td><%=reportList.get(i).getBadMemId()%></td>
		<td>
		<button data-toggle="modal" data-target="#myModal" onclick="modelOpen('<%=reportList.get(i).getReportNo()%>')"><%=reportList.get(i).getReportTitle()%></button></td>
		<td><%=reportList.get(i).getReportDate()%></td>
		</tr>
	<%
			}
		}
	%>
	</table>
</body>
</html>